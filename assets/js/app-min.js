const BlackJack = (() => { "use strict"; let f = [], g = ["C", "D", "H", "S"], h = ["J", "Q", "K", "A"], i = [], a = document.querySelector("#btnAskCard"), b = document.querySelector("#btnDeal"), c = document.querySelector("#btnNewGame"), d = document.querySelector(".msg"), j = document.querySelectorAll(".cardConteiner"), k = document.querySelectorAll("small"), e = (e = 2) => { f = l(), i = []; for (let c = 0; c < e; c++)i.push(0); d.innerHTML = "", k.forEach(a => a.innerText = 0), j.forEach(a => a.innerHTML = ""), a.disabled = !1, b.disabled = !1 }, l = () => { f = []; for (let a = 2; a <= 10; a++)for (let b of g) f.push(a + b); for (let c of g) for (let d of h) f.push(d + c); return _.shuffle(f) }, m = () => { if (0 === f.length) throw "No hay cartas en la baraja"; return f.pop() }, n = b => { let a = b.substring(0, b.length - 1); return isNaN(a) ? "A" === a ? 11 : 10 : 1 * a }, o = (b, a) => (i[a] = i[a] + n(b), k[a].innerText = i[a], i[a]), p = (b, c) => { let a = document.createElement("img"); a.src = `assets/cartas/${b}.png`, a.classList.add("carta"), j[c].append(a) }, q = () => { let [a, b] = i; setTimeout(() => { b === a ? d.innerHTML = "<span>DRAW</span>" : a > 21 ? d.innerHTML = "<span>Comp Win!</span>" : b > 21 ? d.innerHTML = "<span>Player Win!</span>" : d.innerHTML = "<span>Comp Win!</span>" }, 100) }, r = a => { let b = 0; do { let c = m(); b = o(c, i.length - 1), p(c, i.length - 1) } while (b < a && a <= 21) q() }; return a.addEventListener("click", () => { let d = m(), c = o(d, 0); p(d, 0), c > 21 ? (a.disabled = !0, b.disabled = !0, r(c)) : 21 === c && (a.disabled = !0, b.disabled = !0, r(c)) }), b.addEventListener("click", () => { a.disabled = !0, b.disabled = !0, r(i[0]) }), c.addEventListener("click", () => { e() }), d.addEventListener("click", () => { d.innerHTML = "" }), { newGame: e } })()